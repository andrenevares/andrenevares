{% extends "layout.html" %}

{% block pagetitle %}
{{ pagetitle }}
<p class="lead">Number of reviews: {{ number_of_posts }}</p>

{% endblock pagetitle %}

{% block alert %}
<div class="space-top-allert">
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <div class="alert alert-{{category}}">
        {{ message }}
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
</div>
{% endblock alert %}


{% block content %}
<div class="mt-4">
    <div class="mb-4">
        <a type="button" class="btn btn-primary" href="{{ url_for('search') }}">Make a New Search</a>
    </div>
    <h3 class="mb-3">Top rated books:</h3>
    {% for book in books %}
    <p><a href="{{ url_for('book', book_id=book.id) }}">{{ book.title }}, {{ book.author }}, {{ book.year }} Rating:
            {{ book.average }}</a></p>
    {% endfor %}
</div>


{% endblock content %}